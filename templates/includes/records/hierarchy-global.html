{% load records_tags %}

<nav class="hierarchy" data-container-name="hierarchy-global">
    <div class="hierarchy__container">
        <div class="hierarchy-short-panel">
            <h2 class="hierarchy-short-panel__heading sr-only">Catalogue location at a glance</h2>
            <p class="hierarchy-short-panel__label">You are here:</p>

            <!-- START COMMENT 1:

            The 'short panel__list' section should only display up to a maximum of 3 list items at one time.
            These should display only the 'major' levels above the level you're on i.e Archive, Dept, Division, Series (don't include 'sub-levels' or 'sub-sub-levels').
            If the archive level is not the first item in the list, the first item should display the 'hierarchy-short-panel__list-item--more' modifier class to indicate there are more levels above by displaying the '...' before the list item, which is automatically handled by the CSS.
            If the Archive level is visible as the first item, this modifier doesn't need to be added.

            -->

            <ul class="hierarchy-short-panel__list">
                <li class="hierarchy-short-panel__list-item hierarchy-short-panel__list-item--more">
                    <span class="hierarchy-short-panel__level">
                        <a href="#">Department</a>
                    </span>(DSIR)
                </li>
                <li class="hierarchy-short-panel__list-item">
                    <span class="hierarchy-short-panel__level">
                        <a class="hierarchy-short-panel__link" href="#">Series</a>
                    </span>(DSIR 27)
                </li>
                <li class="hierarchy-short-panel__list-item hierarchy--short-panel__list-item--current">
                    <span class="hierarchy-short-panel__level">This item</span>(DSIR 27/6/ADM171)
                </li>
            </ul>
            <!-- END COMMENT 1-->

            <p class="hierarchy-short-panel__toggle-link"><a href="#">Show detailed view</a></p>
        </div>

        <div class="hierarchy-full-panel" id="hierarchy-togglee">
            <h2 class="hierarchy-full-panel__heading">Detailed catalogue location:</h2>

            <!-- START COMMENT 2:

            These levels need to be worked on so they are dynamically added.
            The 'hierarchy-full-panel__bar-container-inner--level-1' modifier adds the width of the bar depending on the level.
            These always need to be added in stepped order - don't skip levels - so the widths descend by 2% each time (eg. only 1, 2, 3, 4 and not 1, 3, 4, 6).

            -->

            <!-- Level 1 -->
            <div class="hierarchy-full-panel__bar-container-outer">
                <div class="hierarchy-full-panel__bar-container-inner hierarchy-full-panel__bar-container-inner--level-1">
                    <p><span class="hierarchy-full-panel__bar-number">3 million</span>
                    <span class="hierarchy-full-panel__bar-label">records</span></p>
                </div>
                <div class="hierarchy-full-panel__text-container">
                    <p class="hierarchy-full-panel__text-level">This record is held at: <a href="">The National Archives</a></p>
                    <p class="hierarchy-full-panel__text-title">Located at Kew, Surrey</p>
                </div>
            </div>

            <!-- Level 2 -->
            <div class="hierarchy-full-panel__bar-container-outer">
                <div class="hierarchy-full-panel__bar-container-inner hierarchy-full-panel__bar-container-inner--level-2">
                    <p><span class="hierarchy-full-panel__bar-number">200,000</span>
                   <span class="hierarchy-full-panel__bar-label">records</span></p>
                </div>
                <div class="hierarchy-full-panel__text-container">
                    <p class="hierarchy-full-panel__text-level">In the department: <a href="">DSIR</a></p>
                    <p class="hierarchy-full-panel__text-title">Records created or inherited by the Department of Scientific and Industrial Research, and related bodies</p>
                </div>
            </div>

            <!-- Level 3 -->
            <div class="hierarchy-full-panel__bar-container-outer">
                <div class="hierarchy-full-panel__bar-container-inner hierarchy-full-panel__bar-container-inner--level-3">
                    <p><span class="hierarchy-full-panel__bar-number">20,000</span>
                    <span class="hierarchy-full-panel__bar-label">records</span></p>
                </div>
                <div class="hierarchy-full-panel__text-container">
                    <p class="hierarchy-full-panel__text-level">Within the division: <a href="">Division within DSIR</a></p>
                    <p class="hierarchy-full-panel__text-title">Records of the Road Research Laboratory and Successor</p>
                </div>
            </div>

            <!-- Level 4 -->
            <div class="hierarchy-full-panel__bar-container-outer">
                <div class="hierarchy-full-panel__bar-container-inner hierarchy-full-panel__bar-container-inner--level-4">
                    <p><span class="hierarchy-full-panel__bar-number">500</span>
                    <span class="hierarchy-full-panel__bar-label">records</span></p>
                </div>
                <div class="hierarchy-full-panel__text-container">
                    <p class="hierarchy-full-panel__text-level">Within the series: <a href="">DSIR 27</a></p>
                    <p class="hierarchy-full-panel__text-title">Department of Scientific and Industrial Research: Road Research Laboratory Reports</p>
                </div>
            </div>

            <!-- Level 5 -->
            <div class="hierarchy-full-panel__bar-container-outer">
                <div class="hierarchy-full-panel__bar-container-inner hierarchy-full-panel__bar-container-inner--level-5">
                    <p><span class="hierarchy-full-panel__bar-number">20</span>
                    <span class="hierarchy-full-panel__bar-label">records</span></p>
                </div>
                <div class="hierarchy-full-panel__text-container">
                    <p class="hierarchy-full-panel__text-level">Within the sub-series: <a href="">Subseries within DSIR 27</a></p>
                    <p class="hierarchy-full-panel__text-title">REPORTS TO ADMIRALTY</p>
                </div>
            </div>

            <!-- Level 6 -->
            <div class="hierarchy-full-panel__bar-container-outer">
                <div class="hierarchy-full-panel__bar-container-inner hierarchy-full-panel__bar-container-inner--level-6">
                    <p><span class="hierarchy-full-panel__bar-number">10</span>
                        <span class="hierarchy-full-panel__bar-label">records</span></p>
                </div>
                <div class="hierarchy-full-panel__text-container">
                    <p class="hierarchy-full-panel__text-level">Within the piece: <a href="">DSIR 27/6</a></p>
                    <p class="hierarchy-full-panel__text-title">ADM 157 - 185</p>
                </div>
            </div>

            <!-- Level 7 -->
            <div class="hierarchy-full-panel__bar-container-outer hierarchy-full-panel__bar-container-outer--active">
                <div class="hierarchy-full-panel__bar-container-inner hierarchy-full-panel__bar-container-inner--active hierarchy-full-panel__bar-container-inner--level-7">
                    <p><span class="hierarchy-full-panel__bar-number">1</span>
                        <span class="hierarchy-full-panel__bar-label">record</span></p>
                </div>
                <div class="hierarchy-full-panel__text-container">
                    <p class="hierarchy-full-panel__text-level">You are currently looking at: <a href="">DSIR 27/6/ADM171</a></p>
                    <p class="hierarchy-full-panel__text-title">The pressures produced by explosions underwater of 1-oz. solid cone charges of P.E. By..</p>
                </div>
            </div>
            <!-- END COMMENT 2 -->


            <!-- START COMMENT 3:

            The next section 'hierarchy-local-nav' section will only need to be shown if there is a previous and/or a next item available.
            It won't need it to be shown if it's only showing the current item

            -->

            <div class="hierarchy-local-nav">
                <ul class="hierarchy-local-nav__list">

                <!-- Previous item in series -->
                    {% if page.previous_record %}
                        {% if page.previous_record.has_reference_number %}
                            <li class="hierarchy-local-nav__list-item">{{ 'previous_record'|as_label }} in series <a href="{% record_url page.previous_record %}" class="hierarchy-local-nav__list-link hierarchy-local-nav__list-link--left" data-link="Previous" rel="prev">{{ page.previous_record.reference_number }}</a></li>
                        {% elif page.is_tna %}
                                {{ 'previous_record'|as_label }} {{ page.level.lower|default:"record" }}
                        {% else %}
                                {{ 'previous_record'|as_label }} record
                        {% endif %}
                    {% endif %}

                <!-- Current item in series -->
                <li class="hierarchy-local-nav__list-item">You are looking at <span class="hierarchy-local-nav__list-link">DSIR 27/6/ADM171</span></li>

                <!-- Next item in series -->
                    {% if page.next_record %}
                        {% if page.next_record.has_reference_number %}
                            <li class="hierarchy-local-nav__list-item">{{ 'next_record'|as_label }} in series <a href="{% record_url page.next_record %}" class="hierarchy-local-nav__list-link hierarchy-local-nav__list-link--right" data-link="Next" rel="next">{{ page.next_record.reference_number }}</a></li>
                            {% elif page.is_tna %}
                                {{ 'next_record'|as_label }} {{ page.level.lower|default:"record" }}
                            {% else %}
                                {{ 'next_record'|as_label }} record
                        {% endif %}
                    {% endif %}
                </ul>
            </div>
            <!-- END COMMENT 3 -->

        </div>
    </div>
</nav>


{% comment%}

<!-- START COMMENT 4: This it the previous code for reference -->

<nav class="hierarchy-global" data-container-name="hierarchy-global" id="analytics-hierarchy-global">
    <details id="js-hierarchy-global" open>
        <summary id="analytics-hierarchy-link">
            <h2 class="hierarchy-global__heading" id="hierarchy-label">{{ 'hierarchy'|as_label }}</h2>
        </summary>

        <ol class="hierarchy-global__list" aria-labelledby="hierarchy-label">
            {% for item in page.hierarchy %}
                {% is_page_current_item_in_hierarchy page item as is_current_item %}
                {% if is_current_item %}
                    <li class="hierarchy-global__list-item hierarchy-global__list-item--current-item">
                        <span class="hierarchy-global__location">You are here:</span>
                        <span class="hierarchy-global__reference hierarchy-global__reference--white">{{ item.reference_number }}</span> {{ item.title }}
                    </li>
                {% else %}
                    <li class="hierarchy-global__list-item">
                        <span class="hierarchy-global__reference">{{ item.reference_number }}</span>
                        <a href="{% record_url item %}"  data-link="{{ forloop.counter0 }}: {{ item.reference_number }}" class="link--bold">
                            {{ item.title }}
                        </a>
                    </li>
                {% endif %}
            {% endfor %}
        </ol>
    </details>
</nav>

<!-- END COMMENT 4 -->
{% endcomment %}
