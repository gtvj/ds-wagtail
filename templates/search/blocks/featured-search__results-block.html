{% load records_tags %}
{% load search_tags %}
<div class="featured-search__results-block">
    <h2 class="featured-search__heading">{{ bucket.label }}</h2>
    <ul class="featured-search__results-list">
        {% for record in bucket.results %}
            <li class="featured-search__results-list-item">
                <a href="{% record_url record %}" class="featured-search__results-link">
                    <h3 class="featured-search__results-heading">
                        {{ record.summary_title }}
                    </h3>
                </a>
                {% if record.reference_number %}
                    <p>Catalogue reference: {{ record.reference_number }}</p>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
    <div class="featured-search__see-all-link">
        <a class="featured-search__results-link" href="{% url 'search-catalogue' %}?q={{ search_query|iriencode }}&group={{ bucket.key }}">
            See all relevant {{ bucket.label_with_count }}
        </a>
    </div>
</div>
