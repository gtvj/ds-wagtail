{% extends "base.html" %}

{% load humanize %}
{% load search_tags %}
{% load static %}

{% block content %}
        {{ form.non_field_errors }}

        {%  with type='Catalogue'%}
            {% include './blocks/search_results_hero.html' %}
        {% endwith  %}

        {% include './blocks/catalogue_search_buckets.html' %}
        {% comment %} TODO make this text an editable field {% endcomment %}
        {% if form.group.value == 'tna' %}
            <p class="search-results__explainer--desktop">This page displays search results for records that are held by The National Archives, Kew.</p>
            <p class="search-results__explainer--mobile">Results for records that are held by The National Archives, Kew.</p>
        {% elif form.group.value == 'digitised' %}
            <p class="search-results__explainer--desktop">This page displays search results for records that are available to download that are held by The National Archives, Kew.</p>
            <p class="search-results__explainer--mobile">Records that are available to download that are held by The National Archives, Kew.</p>
        {% elif form.group.value == 'nonTna' %}
            <p class="search-results__explainer--desktop">This page displays search results for records held by other archives in the UK and beyond. None of the records shown here are held by The National Archives, Kew.</p>
            <p class="search-results__explainer--mobile"> Results for records held by other archives in the UK and beyond. None here are held by The National Archives, Kew.</p>
        {% endif %}
        {% include './blocks/search_sort_and_view_options.html' %}

        <div class="catalogue-search-grid" data-id="catalogue-search-grid">
            <div class="catalogue-search-grid__sidebar" data-id="catalogue-search-sidebar">
                {% include './blocks/search_filters.html' %}
            </div>
            <div class="catalogue-search-grid__results">
                {% include './blocks/search_results.html' %}
            </div>
        </div>

        {% if page.paginator.count %}
            {% include './blocks/search_pagination.html' %}
        {% endif %}

        <div>
            {{ form.group.errors }}
            {{ form.group.as_hidden }}
        </div>
{% endblock %}

{% block extra_js %}
    <script src="{% static 'scripts/catalogue_search.js' %}"></script>
{% endblock %}
