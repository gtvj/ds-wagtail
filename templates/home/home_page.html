{% extends "base_page.html" %}

{% load static %}
{% load i18n %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}

{% block body_class %}template-homepage{% endblock %}

{% block content %}

     <div class="row container pt-4 ml-lg-5 bg-info">
            <div class="col-10">
                <h1 class="generic-intro__title">
                    {{ self.title }}
                </h1>
                {% if page.sub_heading %}
                    <p class="generic-intro__paragraph">{{ page.sub_heading }}</p>
                {% endif %}
            </div>
     </div>
    <div class="row container pt-4 ml-lg-5 bg-info">
        {% for block in page.body %}
        {% if block.block_type == "time_period"  or block.block_type == "topic_explorer"%}

            <div class="col  container pt-4 bg-warning text-dark">
                {% include_block block %}
            </div>

        {% endif %}
        {% endfor %}
     </div>
    <div class="container pt-4 ">
        {% for block in page.body %}
            <div class="row" ml-lg-7 bg-info>
                {% if block.block_type != "time_period"  and  block.block_type != "topic_explorer"%}
                {% include_block block %}
                {% endif %}
            </div>
        {% endfor %}
    </div>
    {% if page.featured_insight %}
    <div class="container">
        <div class="featured-insight">
            {% if page.featured_insight.hero_image %}
                <a href="{% pageurl page.featured_insight %}" class="featured-insight__image-link" tabindex="-1" aria-hidden="true" data-component-name="Featured Insight: {{ page.featured_insight.title }}" data-link-type="Image">
                    <picture>
                        {% image page.featured_insight.hero_image fill-500x400-c100 as hero %}
                        <source media="(max-width: 768px)" srcset="{{ hero.url }}">
                        {% image page.featured_insight.hero_image fill-500x500-c100 as hero %}
                        <source media="(max-width: 991px)" srcset="{{ hero.url }}">
                        {% image page.featured_insight.hero_image fill-1000x600-c100 as hero %}
                        <source media="(max-width: 1200px)" srcset="{{ hero.url }}">

                        {% if page.featured_insight.hero_image_decorative %}
                            <img src="{{ hero.url }}" alt="" />
                        {% else %}
                            <img src="{{ hero.url }}" alt="{{page.featured_insight.hero_image_alt_text}}" />
                        {% endif %}
                    </picture>
                </a>
            {% endif %}

            <div class="featured-insight__description">
                <h2 class="featured-insight__heading">
                    <small>{% trans "Spotlight on" %}</small>
                    {{ page.featured_insight.title }}
                </h2>
                <p>{{ page.featured_insight.sub_heading }}</p>
                <a class="tna-button--dark" href="{% pageurl page.featured_insight %}" data-component-name="Featured Insight: {{ page.featured_insight.title }}" data-link-type="Button">Read</a>
            </div>
        </div>
    </div>
    {% endif %}

    <div class="container">
        {% include_block page.featured_collections %}
    </div>
    <div class="col-sm-12 col-lg-12 row justify-content-md-center text-center">
        <a class="tna-button--dark" href="/insight-pages/" rel="noopener noreferrer" target="_blank">See more stories from collection</a>
 </div>
{% endblock content %}

{% block extra_js %}
    <script src="{% static 'scripts/home_page.js' %}"></script>
{% endblock %}
