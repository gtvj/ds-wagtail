{% extends 'base_page.html' %}

{% load static i18n wagtailcore_tags wagtailimages_tags wagtailmetadata_tags %}

{% block html_class %}tna-template--pink-accent{% endblock %}

{# Breadcrumb is included inside the header area #}
{% block breadcrumb %}
{% endblock %}

{% block content %}

  <div class="full-width-header full-width-header--pink">
    {% include 'includes/breadcrumb.html' with classes='breadcrumb-content--reduce-space' %}

    {% include "includes/generic-intro.html" with title=page.title intro=page.intro %}

    <div class="tna-container">
      <div class="tna-column tna-column--full">
        <form class="filters" method="GET" action="#">

          <fieldset class="filters__fieldset">
            <legend class="filters__super-title">When</legend>
            <div class="filters__panel">
              <label for="event-date" class="filters__label filters__label--top">Choose a date</label>
              <p class="filters__help">Format: dd/mm/yyyy</p>
              {# we need a default value for the date in iOS or it is displayed tiny #}
              <input type="date" name="event-date" id="event-date" class="filters__date" value="{% now 'Y-m-d' %}">
            </div>
          </fieldset>

          <fieldset class="filters__fieldset">
            <legend class="filters__super-title">What</legend>
            <div class="filters__radio-list filters__panel">
              <div>
                <input type="radio" name="event-type" value="exhibitions" id="exhibitions" class="filters__radio">
                <label for="exhibitions" class="filters__label">Exhibitions &amp; displays</label>
              </div>
              <div>
                <input type="radio" name="event-type" value="event" id="event" class="filters__radio">
                <label for="event" class="filters__label">Event</label>
              </div>
              <div>
                <input type="radio" name="event-type" value="talk" id="talk" class="filters__radio">
                <label for="talk" class="filters__label">Talk</label>
              </div>
              <div>
                <input type="radio" name="event-type" value="tour" id="tour" class="filters__radio">
                <label for="tour" class="filters__label">Tour</label>
              </div>
            </div>
          </fieldset>

          <div class="filters__toggle">
            <input type="checkbox" name="online" id="online" class="filters__toggle-input">
            <label for="online" class="filters__toggle-label">Online</label>
          </div>

          <div class="filters__toggle">
            <input type="checkbox" name="family" id="family" class="filters__toggle-input">
            <label for="family" class="filters__toggle-label">Family friendly</label>
          </div>

          <input type="submit" value="Apply filters" class="filters__submit tna-button--dark">

        </form>
      </div>
    </div>
  </div>

  <div class="tna-container tna-container--offset-top tna-container--full-width-mobile event-card-listing">
    <div class="tna-column tna-column--full">
      {% include "../components/featured_card.html" with title="Featured card title" href="#" headingLevel="2" headingSize="l" htmlElement="article" imageSrc="https://source.unsplash.com/1190x600?abstract" imageAlt="featured card image alt" imageWidth="1190" imageHeight="600" date="27 May" cost="From £16" venue_type="Online" event_type="Exhibition" %}

      <hgroup class="event-card-listing__heading-area">
        <h2 class="tna-heading tna-heading--l event-card-listing__heading">All events</h2>
        <p class="event-card-listing__summary">Showing 1 to 12 of 150 articles</p>
      </hgroup>

      <ul class="event-card-listing__list">
        {% for event in page.events %}
          <li class="event-card-listing__item">
            {% image event.teaser_image fill-720x448 as event_img %}
            {% include "../components/card.html" with title=event.short_title href=event.url headingLevel="3" headingSize="l" htmlElement="article" imageSrc=event_img.url imageAlt=event_image.width imageWidth=event_img.width imageHeight=event_img.height date=event.start_date|date:"jS F Y" cost="From £16" venue_type=event.get_venue_type_display body=event.teaser_text horizontal=True event=True highlight="Sold out" highlight_color="yellow" event_type=event.event_type access_descriptor=event.primary_access_type classes="tna-card--event tna-card--horizontal-thirds" %}
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>

  <div class="section section--pink">
    <div class="tna-container">
        <div class="tna-column tna-column--full tna-!--margin-top-l">
            <h2 class="tna-heading related-content__heading">For professionals</h2>
        </div>

        {% comment %} TODO: replace with real data and only use one card - there are duplicates for now while testing front-end {% endcomment %}
        <ul class="card-group--list-style-none">
          <li class="tna-column tna-column--width-1-3 tna-column--width-1-2-medium tna-column--width-1-2-small tna-column--full-tiny tna-!--margin-bottom-l">
            {% include "../components/card.html" with title="Events for teachers" href='#' imageSrc=card_image.url imageWidth=800 imageHeight=450 headingSize="m" headingLevel=3 classes=" tna-card--related" %}
          </li>
          <li class="tna-column tna-column--width-1-3 tna-column--width-1-2-medium tna-column--width-1-2-small tna-column--full-tiny tna-!--margin-bottom-l">
            {% include "../components/card.html" with title="Sector professional events" href='#' imageSrc=card_image.url imageWidth=800 imageHeight=450 headingSize="m" headingLevel=3 classes="tna-card--demo tna-card--related" %}
          </li>
          <li class="tna-column tna-column--width-1-3 tna-column--width-1-2-medium tna-column--width-1-2-small tna-column--full-tiny tna-!--margin-bottom-l">
            {% include "../components/card.html" with title="Information management" href='#' imageSrc=card_image.url imageWidth=800 imageHeight=450 headingSize="m" headingLevel=3 classes="tna-card--demo tna-card--related" %}
          </li>
        </ul>
    </div>
  </div>


  {% comment %} TODO: use large_links_block.html with real data to replace hard-coded cards below {% endcomment %}
  {% comment %} {% include "../blocks/large_links_block.html" %} {% endcomment %}

  <div class="related-highlight-cards tna-!--margin-top-l tna-!--margin-bottom-l">
    <div class="tna-container">
      <div class="tna-column tna-column--full">
        <h2 class="tna-heading card-grid__title">
            Explore more of the National Archives
        </h2>
      </div>
      <div class="tna-column tna-column--flex-1 tna-column--full-tiny" data-container-name="more-ways-to-explore" id="analytics-more-ways-to-explore">
        <div class="related-highlight-cards__card">
          <a href="/" aria-labelledby="related-highlight-card-title-{{ forloop.counter }}" data-component-name="Navigation card: {% if value.heading %}{{ value.heading }}{% else %}{{ page.title }}{% endif %}" data-link-type="Card image" data-card-position="{{ forloop.counter0 }}" data-card-title="{{ link_page.title }}" tabindex="-1">
            {% image link_page.teaser_image fill-540x350 as teaser_image %}
            <img height="350"
                width="540"
                src="{{ teaser_image.url }}"
                class="related-highlight-cards__image"
                alt="" />
          </a>
          <div class="related-highlight-cards__content">
            <p class="related-highlight-cards__card-title" id="related-highlight-card-title-{{ forloop.counter }}">
              <a href="/" class="related-highlight-cards__card-title-link"  data-component-name="Navigation card: {% if value.heading %}{{ value.heading }}{% else %}{{ page.title }}{% endif %}" data-link-type="Card text" data-card-position="{{ forloop.counter0 }}" data-card-title="{{ link_page.title }}">
                  Visit
              </a>
            </p>
          </div>
        </div>
      </div>
      <div class="tna-column tna-column--flex-1 tna-column--full-tiny" data-container-name="more-ways-to-explore" id="analytics-more-ways-to-explore">
        <div class="related-highlight-cards__card">
          <a href="/" aria-labelledby="related-highlight-card-title-{{ forloop.counter }}" data-component-name="Navigation card: {% if value.heading %}{{ value.heading }}{% else %}{{ page.title }}{% endif %}" data-link-type="Card image" data-card-position="{{ forloop.counter0 }}" data-card-title="{{ link_page.title }}" tabindex="-1">
            {% image link_page.teaser_image fill-540x350 as teaser_image %}
            <img height="350"
                width="540"
                src="{{ teaser_image.url }}"
                class="related-highlight-cards__image"
                alt="" />
          </a>
          <div class="related-highlight-cards__content">
            <p class="related-highlight-cards__card-title" id="related-highlight-card-title-{{ forloop.counter }}">
              <a href="/" class="related-highlight-cards__card-title-link"  data-component-name="Navigation card: {% if value.heading %}{{ value.heading }}{% else %}{{ page.title }}{% endif %}" data-link-type="Card text" data-card-position="{{ forloop.counter0 }}" data-card-title="{{ link_page.title }}">
                  Stories
              </a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
